# myRPC UNIX

---

Проект, который содержит демон myRPC-server , клиент myRPC-client, библиотеку mysyslog и Bash скрипты. Также этот проект собирает .deb пакеты и формирует из них репозиторий. К этому репозиторию подключается клиент и заходит, скачивает пакеты и общается с сервером.

### Клиент myRPC-client

Пользователь при помощи аргументов командной строки задает параметры подключения к серверу, тип сокета и команду. Вывод помощи в консоли, вывод ошибки если подключение не удалось.

### Сервер myRPC-server

Получает из конфигурационного файла /etc/myRPC/myRPC.conf номер порта и тип сокета, получает через механизм сокетов строку в выбранном формате с именем пользователя и командой разбирает строку, получает из нее имя пользователя и команду, проверяет в конфигурационном файле /etc/myRPC/users.conf есть ли этот пользователь. Использует mysyslog чтобы писать логи в  /tmp/ .

### Библиотека mysyslog

Логирует действия и команды во временные файлы. 
Успешные действия /tmp/myRPC_XXXXXX.stdout 
Неудачные действия /tmp/myRPC_XXXXXX.stderr

---

## Настройки

Проект имеет настраиваемые конфигурационные файлы: myRPC.conf , myRPC.server. Файлы systemd: myRPC-server.service

### myRPC.conf

```
port = <Укажите номер порта>
socket_type = <stream (TCP),dgram (UDP)>
```

Если не настроить то сервер использует по умолчанию порт 25565 и тип сокета stream!

По завершении настройки в /src/config/myRPC.conf . Скопируйте и замените этот файл в /etc/myRPC/myRPC.conf

   ```bash
   cp -f <путь/до/src/config/myRPC.conf> </etc/myRPC/>
   ```
Если нету папки. Создайте её!

   ```bash
   mkdir /etc/myRPC
   ```

### users.conf

```
<Пользователь 1>
<Пользователь 2>
<Пользователь 3>
```

Если ваш пользователь не будет в этом файле то вам будет отказано в доступе к серверу и он выведет ошибку в формате JSON.
По завершению настройки поступаем также как и в копировании myRPC.conf , только у нас будет users.conf

## Установка

Установить можно используя .deb пакеты

### dowload.sh

Загружает все самое необходимое чтобы сервер смог запуститься 

### clean.sh

Удаляет лишние файлы myRPC_XXXXXX в /tmp/

## Требования

- gcc (Компилятор языка Си)
- python / Apache2 (Сетевой репозиторий)
- git (Клонирование репозитория)
- make (Сборка проекта)

## Сборка проекта

Для сборки проекта используйте Makefile

Введите:

1. Клонируйте репозиторий:
   ```bash
   git clone <ссылка на этот проект>
   ```
2. Перейдите в директорию с проектом:
   ```bash
    cd ~/myRPC/
   ```
3. Соберите проект:
   ```bash
    make all
   ```
4. Соберите .deb пакеты:
   ```bash
    make deb
   ```
5. Создайте репозиторий .deb пакетов:
   ```bash
    make repo
   ```
   
## Сетевой репозиторий 


## Возможные проблемы


## Запуск проекта
